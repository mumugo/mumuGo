{"version":3,"sources":["webpack:///webpack/bootstrap 0151d5de627c777d39b7","webpack:///./index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,2BAA2B;AAClD;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC,kCAAiC;AACjC;AACA,UAAS,Y;AACT;AACA;AACA,iDAAgD;AAChD;AACA,yG;;AAEA;AACA,8C;AACA;AACA,iG;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,SAAQ;AACR;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,uBAAuB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kD;AACA;AACA;AACA;;AAEA,oBAAmB,kBAAkB;AACrC;;AAEA,8CAA6C,EAAE,MAAM,EAAE;AACvD,8CAA6C,EAAE,MAAM,EAAE;;AAEvD;AACA;AACA;;AAEA,UAAS;AACT;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;;AAEA,+C;AACA;AACA;;AAEA,sD;AACA;;AAEA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA,gD;AACA;;AAEA,uD;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAI","file":"./build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0151d5de627c777d39b7\n **/","//解析XML文件\r\nvar loadXML = function(xmlFile) {\r\n    var xmlDoc = null;\r\n    //判断浏览器的类型\r\n    //支持IE浏览器\r\n    if (!window.DOMParser && window.ActiveXObject) {\r\n        var xmlDomVersions = ['MSXML.2.DOMDocument.6.0', 'MSXML.2.DOMDocument.3.0', 'Microsoft.XMLDOM'];\r\n        for (var i = 0; i < xmlDomVersions.length; i++) {\r\n            try {\r\n                xmlDoc = new ActiveXObject(xmlDomVersions[i]);\r\n                break;\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    } else if (document.implementation && document.implementation.createDocument) {\r\n    \t//支持Mozilla，opera浏览器\r\n        try {\r\n            /* document.implementation.createDocument('','',null); 方法的三个参数说明\r\n            * 第一个参数是包含文档所使用的命名空间URI的字符串； \r\n            * 第二个参数是包含文档根元素名称的字符串； \r\n            * 第三个参数是要创建的文档类型（也称为doctype）\r\n            */\r\n            xmlDoc = document.implementation.createDocument('', '', null);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n\r\n    if (xmlDoc != null) {\r\n        try {\r\n            xmlDoc.asyc = false;   //是否异步调用\r\n            xmlDoc.load(xmlFile);  //文件路径\r\n            return xmlDoc;\r\n        } catch (e) {  \r\n            //chrome，safari不支持load()方法，故用http协议，XMLHttpRequest对象。\r\n            var xmlhttp = new XMLHttpRequest();\r\n            xmlhttp.open('GET', xmlFile, false);   //创建一个新的http请求，并指定此请求的方法、URL以及验证信息\r\n            xmlhttp.send(null);\r\n            return new DOMParser().parseFromString('<go>' + xmlhttp.responseText + '</go>', 'text/xml'); \r\n\r\n            //XMLHttpRequest对象回调函数\r\n            // xmlhttp.onload = function(e) { \r\n            //     if(this.status == 200||this.status == 304){\r\n                    // return new DOMParser().parseFromString(xmlhttp.responseText, \"text/xml\"); \r\n                // }\r\n            // };\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n// var book = {\r\n//     _year: 2004,\r\n//     edtion: 1\r\n// };\r\n\r\n// Object.defineProperty(book, 'year', {\r\n//     get: function() {\r\n//         return this._year;\r\n//     }, \r\n//     set: function(newValue) {\r\n//         this._year = newValue;\r\n//         this.edtion += newValue - 2004\r\n//     }\r\n// });\r\n\r\n// 双向绑定\r\n// function bidirectionalBind(obj, key) {\r\n//     Object.defineProperty(obj, key, {\r\n//         get: function() {\r\n//             return this.key;\r\n//         }, \r\n//         set: function(newValue) {\r\n//             this.key = newValue;\r\n//             obj.parentClass.didMount();\r\n//             // this.edtion += newValue - 2004;\r\n\r\n//         }\r\n//     });\r\n// }\r\n\r\n//生命周期 数据双向绑定\r\n\r\nvar Go = function(opt) {\r\n    this.opt = opt;\r\n    this.init();\r\n};\r\n\r\nGo.prototype.init = function() {\r\n    var me = this;\r\n    var scriptFlie = document.getElementsByTagName('script');\r\n    \r\n    for (var i = 0; i < scriptFlie.length; i++) {\r\n        var fileSrc = scriptFlie[i].attributes['src'],\r\n            fileType = scriptFlie[i].attributes['type'];\r\n\r\n        if (typeof fileType != 'undefined' && fileType.value === 'text/goo') {\r\n            var xmldoc = loadXML(fileSrc.value);\r\n            me.compile(xmldoc);\r\n        }\r\n    }\r\n}\r\n\r\nGo.prototype.compile = function(xmldoc) {\r\n    console.log(xmldoc);\r\n    var me = this;\r\n    me.compileTemplate(xmldoc);\r\n    me.compileStyle(xmldoc);\r\n    me.compileScript(xmldoc);\r\n}\r\n\r\nGo.prototype.compileTemplate = function(xmldoc) { \r\n    var me = this,\r\n        temps, beforeHtml, modefiedHtml, attrName, target;\r\n    temps = xmldoc.getElementsByTagName('template');\r\n\r\n    for (var i = 0; i < temps.length; i++) {\r\n        beforeHtml = temps[i].innerHTML;\r\n\r\n        attrName = beforeHtml.replace(/(.*)\\{\\{(.*)\\}\\}(.*)/g, '$2').replace(/\\s/g, '');\r\n        modefiedHtml = beforeHtml.replace(/\\{\\{(.*)\\}\\}/g, me.opt.data[attrName]);\r\n\r\n        if (/^\\#/g.test(me.opt.ele)) {\r\n            target = document.getElementById(me.opt.ele.slice(1, me.opt.ele.lenth));\r\n            target.innerHTML = modefiedHtml;\r\n\r\n        } else if (/^\\./g.test(me.opt.ele)) {\r\n            target = document.getElementsByClassName(me.opt.ele.slice(1, me.opt.ele.lenth));\r\n            for (var j = 0; j < target.length; j++) {\r\n                target[j].innerHTML = modefiedHtml;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nGo.prototype.compileStyle = function(xmldoc) { \r\n    var styleObj,\r\n        styleEles;\r\n\r\n    styleEles = xmldoc.getElementsByTagName('style');  \r\n    styleObj = document.createElement('style');\r\n\r\n    for (var i = 0; i < styleEles.length; i++) {\r\n        styleObj.innerHTML += styleEles[i].innerHTML;\r\n    }\r\n    document.body.appendChild(styleObj);\r\n}\r\n\r\nGo.prototype.compileScript = function(xmldoc) { \r\n    var scriptObj;\r\n\r\n    scriptObj = xmldoc.getElementsByTagName('script');  \r\n    for (var i = 0; i < scriptObj.length; i++) {\r\n        eval(scriptObj[i].innerHTML);\r\n    }\r\n}\r\n\r\nGo.prototype.component = function() {\r\n    \r\n}\r\n\r\n// (function() {\r\n\r\n// })()\r\n\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 0\n ** module chunks = 0\n **/"],"sourceRoot":""}